<!DOCTYPE html>
<html lang="no">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>LOK Â§9F Kalkulator</title>

<style>
body{
    margin:0;
    font-family: Arial;
    background:linear-gradient(135deg,#eef2f7,#f8fafc);
}

.nav{
    background:white;
    padding:18px 28px;
    box-shadow:0 2px 8px rgba(0,0,0,0.06);
}

.nav a{
    text-decoration:none;
    font-weight:600;
    margin-right:18px;
    color:#111827;
}

.container{
    max-width:1000px;
    margin:60px auto;
    padding:0 20px;
}

.card{
    background:white;
    border-radius:18px;
    padding:50px;
    box-shadow:
        0 20px 40px rgba(0,0,0,0.08),
        0 4px 12px rgba(0,0,0,0.04);
}

h1{
    margin-top:0;
    font-size:44px;
}

label{
    font-weight:600;
    display:block;
    margin-top:20px;
}

input, select{
    width:100%;
    padding:14px;
    border-radius:10px;
    border:1px solid #d1d5db;
    margin-top:6px;
}

.row{
    display:flex;
    gap:10px;
}

.result{
    margin-top:30px;
    padding:25px;
    background:#111827;
    color:white;
    border-radius:12px;
    font-size:18px;
}

.big{
    font-size:28px;
    font-weight:700;
}

img{
    width:100%;
    margin-top:20px;
    border-radius:12px;
}
</style>
</head>

<body>

<div class="nav">
<a href="index.html">ðŸ“˜ FÃ¸rste mobilisering</a>
<a href="kalkulator.html">ðŸ§® Kalkulator</a>
</div>

<div class="container">
<div class="card">

<h1>LOK Â§9F Reisetid & Diett kalkulator</h1>

<label>Rotasjon</label>
<select id="rotation">
<option value="35">14/21</option>
<option value="35">15/20</option>
</select>

<label>FÃ¸rste arbeidsdag</label>
<input type="date" id="startDate">

<label>Reisetid Ã©n vei</label>
<div class="row">
<input type="number" id="hours" value="6">
<input type="number" id="minutes" value="0">
</div>

<label>TimeslÃ¸nn (kr)</label>
<input type="number" id="rate" value="293.56" step="0.01">

<label>Diett sats (hver vei)</label>
<select id="dietRate">
<option value="384">6â€“12 timer (384 kr)</option>
<option value="713">Over 12 timer (713 kr)</option>
<option value="977">Med overnatting (977 kr)</option>
</select>

<label>Betalbare rotasjoner</label>
<input type="number" id="paidTrips" value="7">

<div class="result">
<p>Rotasjoner per Ã¥r: <span id="rotations"></span></p>
<p>Total pr Ã¥r: <span id="yearTotal"></span> kr</p>
<p class="big">Snitt pr rotasjon: <span id="avg"></span> kr</p>
</div>

<img src="reise.png" alt="Diett satser">

</div>
</div>

<script>
function countRotations(start,cycle){
    if(!start) return 0;
    let s=new Date(start);
    let end=new Date(s);
    end.setFullYear(end.getFullYear()+1);
    let count=0;
    while(s<end){
        count++;
        s.setDate(s.getDate()+cycle);
    }
    return count;
}

function calc(){
    let cycle=35;
    let start=document.getElementById("startDate").value;
    let hours=parseFloat(document.getElementById("hours").value)||0;
    let minutes=parseFloat(document.getElementById("minutes").value)||0;
    let rate=parseFloat(document.getElementById("rate").value)||0;
    let paid=parseFloat(document.getElementById("paidTrips").value)||0;
    let diet=parseFloat(document.getElementById("dietRate").value)||0;

    let rotations=countRotations(start,cycle);
    let totalHours=hours+(minutes/60);
    let overtime=rate*1.5;
    let travel=totalHours*2*overtime;
    let dietTotal=diet*2;
    let year=(travel+dietTotal)*paid;
    let avg=rotations>0?year/rotations:0;

    document.getElementById("rotations").innerText=rotations;
    document.getElementById("yearTotal").innerText=year.toFixed(2);
    document.getElementById("avg").innerText=avg.toFixed(2);
}

document.querySelectorAll("input,select").forEach(el=>{
    el.addEventListener("input",calc);
});
calc();
</script>

</body>
</html>
